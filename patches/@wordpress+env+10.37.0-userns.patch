diff --git a/node_modules/@wordpress/env/lib/get-host-user.js b/node_modules/@wordpress/env/lib/get-host-user.js
index 79104fa..8d6f935 100644
--- a/node_modules/@wordpress/env/lib/get-host-user.js
+++ b/node_modules/@wordpress/env/lib/get-host-user.js
@@ -3,6 +3,8 @@
  * External dependencies
  */
 const os = require( 'os' );
+const fs = require('fs');
+const path = require('path');
 
 /**
  * Gets information about the host user.
@@ -15,13 +17,29 @@ module.exports = function getHostUser() {
 	// On Windows the uid and gid will be -1. Since there isn't a great way to handle this,
 	// we're just going to assign them to 1000. Docker Desktop already takes care of
 	// permission-related issues using magic, so this should be fine.
-	const uid = ( hostUser.uid === -1 ? 1000 : hostUser.uid ).toString();
-	const gid = ( hostUser.gid === -1 ? 1000 : hostUser.gid ).toString();
+	let uid = hostUser.uid === -1 ? 1000 : hostUser.uid;
+	let gid = hostUser.gid === -1 ? 1000 : hostUser.gid;
+
+	// If in Docker environment, detect actual mapped permissions from filesystem
+	if (process.env.USER_ID && process.env.GROUP_ID) {
+ 		try {
+     			// Check what Docker actually sees after userns-remap
+     			const stats = fs.statSync(process.cwd());
+     			uid = stats.uid;
+     			gid = stats.gid;
+     			// console.error('DEBUG: Using remapped values from fs', { uid, gid });
+ 		} catch (e) {
+     			// Fallback to env vars if statSync fails
+     			uid = parseInt(process.env.USER_ID);
+     			gid = parseInt(process.env.GROUP_ID);
+     			// console.error('DEBUG: Using env vars (fallback)', { uid, gid });
+ 		}
+	}
 
 	return {
 		name: hostUser.username,
-		uid,
-		gid,
+		uid: uid.toString(),
+		gid: gid.toString(),
 		fullUser: uid + ':' + gid,
 	};
 };
