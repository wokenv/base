diff --git a/node_modules/@wordpress/env/lib/init-config.js b/node_modules/@wordpress/env/lib/init-config.js
index 9c6885d..d8c952b 100644
--- a/node_modules/@wordpress/env/lib/init-config.js
+++ b/node_modules/@wordpress/env/lib/init-config.js
@@ -265,9 +265,12 @@ RUN rm /tmp/composer-setup.php`;
 
 	// Install any Composer packages we might need globally.
 	// Make sure to do this as the user and ensure the binaries are available in the $PATH.
+	// https://github.com/WordPress/gutenberg/issues/51419#issuecomment-2158545851
 	dockerFileContent += `
+RUN mkdir -p /home/$HOST_USERNAME/.composer && chown -R $HOST_UID:$HOST_GID /home/$HOST_USERNAME
 USER $HOST_UID:$HOST_GID
 ENV PATH="\${PATH}:/home/$HOST_USERNAME/.composer/vendor/bin"
+ENV COMPOSER_HOME="/home/$HOST_USERNAME/.composer"
 RUN composer global require --dev phpunit/phpunit:"^5.7.21 || ^6.0 || ^7.0 || ^8.0 || ^9.0 || ^10.0"
 USER root`;
 
